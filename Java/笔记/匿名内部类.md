# 匿名内部类

在Java中，**匿名内部类是一种没有名称的内部类**。它们通常用于创建对某个接口或类的简单实现的同时，避免创建一个单独的实现类。由于它们没有名字，这使得匿名内部类非常适合于那些只需要一次使用的场合，如初始化一个按钮的点击监听器或其他简单的任务。

---
## 基本语法

匿名内部类的基本语法如下：
```java
new 父类构造器(参数) 或 接口() {
    // 类体
    //重写父类的方法
}
```

这里，匿名内部类可以继承一个父类或实现一个接口。如果是实现接口，则接口名后的括号是空的；如果是继承类，则括号内可以包含用于父类构造器的参数。

## 匿名内部类的特点
- **没有类名**：正如“匿名”所暗示的，这些内部类没有名称。

- **直接实例化**：匿名内部类是在表达式中声明和实例化的。仅用于实现或扩展：匿名内部类必须继承一个父类或实现一个接口。

- **只能创建一次实例**：每次定义匿名内部类时，实际上都在定义一个全新的类，并且立即创建该类的一个实例。

- **访问局部变量受限**：如果匿名内部类访问的是其外部方法中的局部变量，那么这个变量必须是final或实际上不可变（从Java 8开始，这种变量被称为“effectively final”）。
## 使用场景

- 监听器（如GUI事件监听器）
- 用于运行时需要的扩展点或回调
- 作为参数传递给其他方法的类实例

**示例：使用匿名内部类作为监听器**

假设你正在编写一个图形用户界面应用，你可能会使用匿名内部类来处理按钮点击事件。

```java
import javax.swing.*;

public class TestFrame extends JFrame {
    private JButton button;

    public TestFrame() {
        this.button = new JButton("Click me");
        //这里使用了匿名内部类的方法传递了一个ActionListener类，并重写了actionPerformed方法
        button.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                System.out.println("Button was clicked!");
            }
        });

        this.add(button);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.pack();
        this.setVisible(true);
    }

    public static void main(String[] args) {
        new TestFrame();
    }
}
```

**示例：使用匿名内部类进行线程的实例化**

匿名内部类也可以用来创建线程执行体。

```java
new Thread(new Runnable() {
    @Override
    public void run() {
        System.out.println("Thread is running...");
    }
}).start();
```

