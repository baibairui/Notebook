# 接口

---

## 一.什么是接口

**接口（英文：Interface）**，在JAVA编程语言中是一个抽象类型，是抽象方法的集合，接口通常以interface来声明。一个类通过继承接口的方式，从而来继承接口的抽象方法。

接口并不是类，编写接口的方式和类很相似，但是它们属于不同的概念。类描述对象的属性和方法。接口则包含类要实现的方法。

除非实现接口的类是抽象类，否则该类要定义接口中的所有方法。

接口无法被实例化，但是可以被实现。一个实现接口的类，必须实现接口内所描述的所有方法，否则就必须声明为抽象类。另外，在 Java 中，接口类型可用来声明一个变量，他们可以成为一个空指针，或是被绑定在一个以此接口实现的对象。

**下面这个Animal就是一个接口，Dog类实现了这个接口**

```java
public interface Animal {
    void eat();
    void travel();
}
public class Dog implements Animal {
    public void eat() {
        System.out.println("Dog eats");
    }

    public void travel() {
        System.out.println("Dog travels");
    }
}
```

## 二.接口的特性

- **方法定义：** 接口只能包含方法签名和变量定义，不能包含方法的实际操作内容。在Java 8之后，接口也可以包含默认方法和静态方法，这些方法是具体实现的。
- **实现：** 一个类可以实现一个或多个接口，并必须提供所有接口中定义的方法的实现。**这是一种多继承的形式。**
- **抽象层：** 接口提供了一个抽象层，允许你在不同的实现间进行切换，而不影响使用接口的代码。
- **扩展性：** 接口使得软件项目更加模块化，易于管理和扩展。

接口中每一个方法也是隐式抽象的,接口中的方法会被隐式的指定为 **public abstract**（只能是 public abstract，其他修饰符都会报错）。

接口中**可以含有变量**，但是接口中的变量会被隐式的指定为 **public static final 变量**（并且只能是 public，用 private 修饰会报编译错误）。

接口中的方法是不能在接口中实现的，只能由实现接口的类来实现接口中的方法。

## 三.接口与类的区别

- 接口不能用于实例化对象。
- 接口没有构造方法。
- 接口中所有的方法必须是抽象方法，Java 8 之后 接口中可以使用 default 关键字修饰的非抽象方法。
- 接口不能包含成员变量，除了 static 和 final 变量。
- 接口不是被类继承了，而是要被类实现。
- 接口支持多继承

## 六.接口与类的相似

- 一个接口可以有多个方法。
- 接口文件保存在 .java 结尾的文件中，文件名使用接口名。
- 接口的字节码文件保存在 .class 结尾的文件中。
- 接口相应的字节码文件必须在与包名称相匹配的目录结构中。

## 五.接口的继承

一个接口能继承另一个接口，和类之间的继承方式比较相似。接口的继承使用extends关键字，子接口继承父接口的方法。

**下面的Sports接口被Hockey和Football接口继承：**

```java
// 文件名: Sports.java
public interface Sports
{
   public void setHomeTeam(String name);
   public void setVisitingTeam(String name);
}
 
// 文件名: Football.java
public interface Football extends Sports
{
   public void homeTeamScored(int points);
   public void visitingTeamScored(int points);
   public void endOfQuarter(int quarter);
}
 
// 文件名: Hockey.java
public interface Hockey extends Sports
{
   public void homeGoalScored();
   public void visitingGoalScored();
   public void endOfPeriod(int period);
   public void overtimePeriod(int ot);
}
```

### 六.标记接口

在Java编程语言中，标记接口（Marker Interface）是一种没有包含任何方法声明的接口。它的主要目的是通过实现这些接口，为一个类提供一种标记或标识，表示这个类具备某种特性或能力。这种接口并不直接影响实现它的类的行为，而是用来告诉其他代码（如框架或JVM）这个类具备或允许进行某些特殊处理。

**标记接口的主要作用：**

**标记作用：** 标记接口最主要的作用是为类添加一个标记。这是通过简单的继承机制来实现的，这个机制允许方法或框架通过检查某个对象是否实现了特定的接口来决定它的使用方式或行为。

**启用特定功能：** 在某些情况下，Java平台或Java类库中的方法会检查某个对象是否实现了特定的标记接口，并在这个对象上启用某些特定的行为。例如，实现 Serializable 接口的类能够通过对象序列化进行IO操作。

**Java中的常见标记接口：**

- **Serializable接口：** 这可能是最常用的标记接口之一。一个类通过实现这个接口，表明其对象可以被序列化，即可以转换为字节序列并且可以通过序列化流被恢复。

- **Cloneable接口：** 如果一个类实现了Cloneable接口，表明它能够被克隆（即clone()方法可以合法地对该类的实例进行字段对字段的复制）。

```java
import java.io.*;

public class Data implements Serializable {
    private int value;

    public Data(int value) {
        this.value = value;
    }

    public int getValue() {
        return value;
    }
}

public class Test {
    public static void main(String[] args) {
        Data data = new Data(123);

        // 将Data对象序列化到文件
        try (ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream("data.obj"))) {
            out.writeObject(data);
        } catch (IOException e) {
            e.printStackTrace();
        }

        // 从文件反序列化Data对象
        try (ObjectInputStream in = new ObjectInputStream(new FileInputStream("data.obj"))) {
            Data loadedData = (Data) in.readObject();
            System.out.println(loadedData.getValue());
        } catch (IOException | ClassNotFoundException e) {
            e.printStackTrace();
        }
    }
}
```